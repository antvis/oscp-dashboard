/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/pdfast@0.2.0/src/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var t,n,e={exports:{}},i={exports:{}};n=(t=i).exports,t.exports.isNumber=function(t){return"number"==typeof t},t.exports.findMin=function(t){if(0===t.length)return 1/0;for(var n=t[0],e=1;e<t.length;e++)n=Math.min(n,t[e]);return n},t.exports.findMax=function(t){if(0===t.length)return-1/0;for(var n=t[0],e=1;e<t.length;e++)n=Math.max(n,t[e]);return n},t.exports.findMinMulti=function(t){for(var e=n.findMin(t[0]),i=1;i<t.length;i++)e=Math.min(e,n.findMin(t[i]));return e},t.exports.findMaxMulti=function(t){for(var e=n.findMax(t[0]),i=1;i<t.length;i++)e=Math.max(e,n.findMax(t[i]));return e},t.exports.inside=function(t,n,e){return t<=e&&e<=n},function(t){var n=Math.log(2),e=t.exports,r=i.exports;function a(t){return 1-Math.abs(t)}t.exports.getUnifiedMinMax=function(t,n){return e.getUnifiedMinMaxMulti([t],n)},t.exports.getUnifiedMinMaxMulti=function(t,n){n=n||{};var e=!1,i=!1,a=r.isNumber(n.width)?n.width:2,o=r.isNumber(n.size)?n.size:50,f=r.isNumber(n.min)?n.min:(e=!0,r.findMinMulti(t)),u=r.isNumber(n.max)?n.max:(i=!0,r.findMaxMulti(t)),x=(u-f)/(o-1);return e&&(f-=2*a*x),i&&(u+=2*a*x),{min:f,max:u}},t.exports.create=function(t,n){if(n=n||{},!t||0===t.length)return[];var i=r.isNumber(n.size)?n.size:50,o=r.isNumber(n.width)?n.width:2,f=e.getUnifiedMinMax(t,{size:i,width:o,min:n.min,max:n.max}),u=f.min,x=f.max-u,s=x/(i-1);if(0===x)return[{x:u,y:1}];for(var h=[],M=0;M<i;M++)h.push({x:u+M*s,y:0});var l=function(t,n){for(var e={},i=0,r=-n;r<=n;r++)i+=t(r/n),e[r]=i;return e}(a,o),p=l[o],c=l[o-1]-l[o-2],d=0;t.forEach((function(t){var n=function(t){return Math.floor((t-u)/s)}(t);if(!(n+o<0||n-o>=h.length)){var e=Math.max(n-o,0),i=n,a=Math.min(n+o,h.length-1),f=e-(n-o),x=n+o-a,M=l[-o-1+f]||0,g=l[-o-1+x]||0,m=p/(p-M-g);f>0&&(d+=m*(f-1)*c);var v=Math.max(0,n-o+1);r.inside(0,h.length-1,v)&&(h[v].y+=1*m*c),r.inside(0,h.length-1,i+1)&&(h[i+1].y-=2*m*c),r.inside(0,h.length-1,a+1)&&(h[a+1].y+=1*m*c)}}));var g=d,m=0,v=0;return h.forEach((function(t){m+=t.y,g+=m,t.y=g,v+=g})),v>0&&h.forEach((function(t){t.y/=v})),h},t.exports.getExpectedValueFromPdf=function(t){if(t&&0!==t.length){var n=0;return t.forEach((function(t){n+=t.x*t.y})),n}},t.exports.getXWithLeftTailArea=function(t,n){if(t&&0!==t.length){for(var e=0,i=0,r=0;r<t.length&&(i=r,!((e+=t[r].y)>=n));r++);return t[i].x}},t.exports.getPerplexity=function(t){if(t&&0!==t.length){var e=0;return t.forEach((function(t){var n=Math.log(t.y);isFinite(n)&&(e+=t.y*n)})),e=-e/n,Math.pow(2,e)}}}(e);var r=e.exports,a=e.exports.create,o=e.exports.getExpectedValueFromPdf,f=e.exports.getPerplexity,u=e.exports.getUnifiedMinMax,x=e.exports.getUnifiedMinMaxMulti,s=e.exports.getXWithLeftTailArea;export{a as create,r as default,o as getExpectedValueFromPdf,f as getPerplexity,u as getUnifiedMinMax,x as getUnifiedMinMaxMulti,s as getXWithLeftTailArea};
