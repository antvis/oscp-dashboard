/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/@antv/g-canvas@2.0.7/dist/index.esm.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{__extends as t,__spreadArray as n,__read as e,__awaiter as i,__generator as r}from"../../tslib@2.6.3/_esm.js";import{AbstractRendererPlugin as o,AbstractRenderer as s,setDOMSize as a,RenderReason as c,isBrowser as p}from"../g-lite@2.0.5/_esm.js";import*as h from"../g-plugin-canvas-path-generator@2.0.5/_esm.js";export{h as CanvasPathGenerator};import*as u from"../g-plugin-canvas-picker@2.0.6/_esm.js";export{u as CanvasPicker};import*as g from"../g-plugin-canvas-renderer@2.0.6/_esm.js";export{g as CanvasRenderer};import*as l from"../g-plugin-dom-interaction@2.0.5/_esm.js";export{l as DomInteraction};import*as v from"../g-plugin-html-renderer@2.0.6/_esm.js";export{v as HTMLRenderer};import*as m from"../g-plugin-image-loader@2.0.5/_esm.js";export{m as ImageLoader};import{isString as d}from"../util@3.3.7/_esm.js";var f=function(){function t(t){this.renderingContext=t.renderingContext,this.canvasConfig=t.config}return t.prototype.init=function(){var t=this.canvasConfig,n=t.container,e=t.canvas;if(e)this.$canvas=e,n&&e.parentElement!==n&&n.appendChild(e),this.$container=e.parentElement,this.canvasConfig.container=this.$container;else if(n&&(this.$container=d(n)?document.getElementById(n):n,this.$container)){var i=document.createElement("canvas");this.$container.appendChild(i),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=i}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)},t.prototype.getContext=function(){return this.context},t.prototype.getDomElement=function(){return this.$canvas},t.prototype.getDPR=function(){return this.dpr},t.prototype.getBoundingClientRect=function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()},t.prototype.destroy=function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)},t.prototype.resize=function(t,n){var e=this.canvasConfig.devicePixelRatio||p&&window.devicePixelRatio||1;e=e>=1?Math.ceil(e):1,this.dpr=e,this.$canvas&&(this.$canvas.width=this.dpr*t,this.$canvas.height=this.dpr*n,a(this.$canvas,t,n)),this.renderingContext.renderReasons.add(c.CAMERA_CHANGED)},t.prototype.applyCursorStyle=function(t){this.$container&&this.$container.style&&(this.$container.style.cursor=t)},t.prototype.toDataURL=function(t){return void 0===t&&(t={}),i(this,void 0,void 0,(function(){var n,e;return r(this,(function(i){return n=t.type,e=t.encoderOptions,[2,this.context.canvas.toDataURL(n,e)]}))}))},t}(),$=function(i){function r(){var t=i.apply(this,n([],e(arguments),!1))||this;return t.name="canvas-context-register",t}return t(r,i),r.prototype.init=function(){this.context.ContextService=f},r.prototype.destroy=function(){delete this.context.ContextService},r}(o),x=function(n){function e(t){var e=n.call(this,t)||this;return e.registerPlugin(new $),e.registerPlugin(new m.Plugin),e.registerPlugin(new h.Plugin),e.registerPlugin(new g.Plugin),e.registerPlugin(new l.Plugin),e.registerPlugin(new u.Plugin),e.registerPlugin(new v.Plugin),e}return t(e,n),e}(s);export{x as Renderer};export default null;
